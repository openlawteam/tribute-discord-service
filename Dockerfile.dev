##
# `Dockerfile` for local development using Docker Compose.
##

FROM node:16
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY tsconfig.json ./
COPY scripts scripts
COPY prisma prisma
COPY src src
COPY abi-types abi-types
# Make `wait-for-it` executable by the container
RUN ["chmod", "+x", "./scripts/wait-for-it.sh"]
# Make `dev-start` executable by the container
RUN ["chmod", "+x", "./scripts/dev-start.sh"]
